knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
library(remotes)
library(kableExtra)
library(haven)
library(tidyverse)
library(ivmodel)
library(doParallel)
library(foreach)
library(estimatr)
require(AER)
library(lfe)
library(glue)
#path <- "~/Dropbox/research/IV/IV Sensitivity"
path <- "~/Dropbox/ProjectZ/IV Sensitivity"
knitr::opts_knit$set(root.dir = path)
knitr::opts_chunk$set(warning=FALSE, message=FALSE,cache=TRUE)
library(ivDiag)
df <- readRDS("./data/apsr_Gerber_etal_2010.rds")
D <-"pt_id_with_lean"
Y <- "pt_voteevalalignindex"
Z <- "treat"
controls <- c("pre_lean_dem", "age", "age2" ,"regyear" ,
"regyearmissing", "twonames", "combined_female",
"voted2006", "voted2004", "voted2002", "voted2000",
"voted1998", "voted1996", "interest", "pre_aligned_vh",
"pre_direct_unemp", "pre_direct_econ","pre_direct_bushap",
"pre_direct_congapp")
cl <- NULL
FE <- NULL
weights<-NULL
ivDiag(data=df, Y=Y, D=D, Z=Z, controls=controls, FE =FE,
cl =cl,weights=weights)
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
library(remotes)
library(kableExtra)
library(haven)
library(tidyverse)
library(ivmodel)
library(doParallel)
library(foreach)
library(estimatr)
require(AER)
library(lfe)
library(glue)
#path <- "~/Dropbox/research/IV/IV Sensitivity"
path <- "~/Dropbox/ProjectZ/IV Sensitivity"
knitr::opts_knit$set(root.dir = path)
knitr::opts_chunk$set(warning=FALSE, message=FALSE,cache=TRUE)
library(ivDiag)
df <- readRDS("./data/apsr_Gerber_etal_2010.rds")
D <-"pt_id_with_lean"
Y <- "pt_voteevalalignindex"
Z <- "treat"
controls <- c("pre_lean_dem", "age", "age2" ,"regyear" ,
"regyearmissing", "twonames", "combined_female",
"voted2006", "voted2004", "voted2002", "voted2000",
"voted1998", "voted1996", "interest", "pre_aligned_vh",
"pre_direct_unemp", "pre_direct_econ","pre_direct_bushap",
"pre_direct_congapp")
cl <- NULL
FE <- NULL
weights<-NULL
ivDiag(data=df, Y=Y, D=D, Z=Z, controls=controls, FE =FE,
cl =cl,weights=weights)
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
library(remotes)
library(kableExtra)
library(haven)
library(tidyverse)
library(ivmodel)
library(doParallel)
library(foreach)
library(estimatr)
require(AER)
library(lfe)
library(glue)
#path <- "~/Dropbox/research/IV/IV Sensitivity"
path <- "~/Dropbox/ProjectZ/IV Sensitivity"
knitr::opts_knit$set(root.dir = path)
knitr::opts_chunk$set(warning=FALSE, message=FALSE,cache=TRUE)
library(ivDiag)
df <- readRDS("./data/apsr_Gerber_etal_2010.rds")
D <-"pt_id_with_lean"
Y <- "pt_voteevalalignindex"
Z <- "treat"
controls <- c("pre_lean_dem", "age", "age2" ,"regyear" ,
"regyearmissing", "twonames", "combined_female",
"voted2006", "voted2004", "voted2002", "voted2000",
"voted1998", "voted1996", "interest", "pre_aligned_vh",
"pre_direct_unemp", "pre_direct_econ","pre_direct_bushap",
"pre_direct_congapp")
cl <- NULL
FE <- NULL
weights<-NULL
ivDiag(data=df, Y=Y, D=D, Z=Z, controls=controls, FE =FE,
cl =cl,weights=weights)
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
library(remotes)
library(kableExtra)
library(haven)
library(tidyverse)
library(ivmodel)
library(doParallel)
library(foreach)
library(estimatr)
require(AER)
library(lfe)
library(glue)
#path <- "~/Dropbox/research/IV/IV Sensitivity"
path <- "~/Dropbox/ProjectZ/IV Sensitivity"
knitr::opts_knit$set(root.dir = path)
knitr::opts_chunk$set(warning=FALSE, message=FALSE,cache=TRUE)
library(ivDiag)
df <- readRDS("./data/apsr_Gerber_etal_2010.rds")
D <-"pt_id_with_lean"
Y <- "pt_voteevalalignindex"
Z <- "treat"
controls <- c("pre_lean_dem", "age", "age2" ,"regyear" ,
"regyearmissing", "twonames", "combined_female",
"voted2006", "voted2004", "voted2002", "voted2000",
"voted1998", "voted1996", "interest", "pre_aligned_vh",
"pre_direct_unemp", "pre_direct_econ","pre_direct_bushap",
"pre_direct_congapp")
cl <- NULL
FE <- NULL
weights<-NULL
ivDiag(data=df, Y=Y, D=D, Z=Z, controls=controls, FE =FE,
cl =cl,weights=weights)
df <- readRDS("./data/apsr_Blattman_etal_2014.rds")
df$district <- 0
for (i in 1:15) {df$district[which(df[,paste0("district",i)]==1)] <- i}
D <-"months_treated"
Y <- "fightweap_dummy"
Z <- c("block1", "block2", "block3")
controls <- c("ageover60", "age40_60", "age20_40",
"yrs_edu", "female", "stranger", "christian",
"minority", "cashearn_imputedhst", "noland",
"land_sizehst", "farm_sizehst", "lndtake_dum",
"housetake_dum", "vsmall", "small",
"small2", "small3", "quartdummy", "cedulevel_bc",
"ctownhh_log_el", "cwealthindex_bc", "cviol_experienced_bc",
"clndtake_bc", "cviol_scale_bc", "clandconf_scale_bc",
"cwitchcraft_scale_bc", "cpalaviol_imputed_bc",
"cprog_ldr_beliefs_bc", "cattitudes_tribe_bc",
"crelmarry_bc", "trainee")
cl <- NULL
FE <- "district"
weights<-NULL
ivDiag(data=df, Y=Y, D=D, Z=Z, controls=controls, FE =FE,
cl =cl,weights=weights)
